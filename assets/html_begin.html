<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport"
      content="width=device-width, initial-scale=$initial_scale$, maximum-scale=5.0"/>

$extra_header$
<style type="text/css">
    $css$
</style>
<script>
<!--
$jscode$
-->

<!--
var titleColors=[
"#1abc9c", "#2ecc71", "#3498db", "#9b59b6", "#34495e",
"#16a085", "#27ae60", "#2980b9", "#8e44ad", "#2c3e50",
"#f1c40f", "#e67e22", "#e74c3c", "#ecf0f1", "#95a5a6",
"#f39c12", "#d35400", "#c0392b", "#bdc3c7", "#7f8c8d",
"#75e1c2", "#96e2c0", "#5fb4e5", "#a677a6", "#768693",
"#4ca686", "#45a142", "#4298cc", "#a97cca", "#415464",
"#d89b2b", "#d89b2b", "#e53e30", "#d0d3d4", "#a3aaae"
];
var useColorPalette=false;
var css_content="__mdx_css_content";
var css_title="__mdx_css_title";
var name_content_block="__mdx_name_content_block";
var name_title_block="__mdx_name_title_block";
var shouldResizeImages=$resize_images$;

if (typeof String.prototype.startsWith !== 'function') {
    String.prototype.startsWith = function(prefix){
        return (this.lastIndexOf(str, 0) === 0);
    }
}

if (typeof String.prototype.endsWith !== 'function') {
    String.prototype.endsWith = function(suffix) {
        return (this.indexOf(suffix, this.length - suffix.length) !== -1);
    }
}

if (typeof String.prototype.contains !== 'function') {
    String.prototype.contains = function(txt){
        return (this.indexOf(txt) >= 0);
    }
}

//alex20121205.en
var expand_single=$expand_single$;

function hasClass(ele,cls) {
  return ele.className.match(new RegExp("(\\s|^)"+cls+"(\\s|$)"));
}

function addClass(ele,cls) {
  if (!this.hasClass(ele,cls)) ele.className += " "+cls;
}

function removeClass(ele,cls) {
  if (hasClass(ele,cls)) {
    var reg = new RegExp("(\\s|^)"+cls+"(\\s|$)");
    ele.className=ele.className.replace(reg," ");
  }
}

function FixIFrameSrc(elem){
    return;
    if ( elem.tagName=='IFRAME' && ( elem.src==null || elem.src=="" )){
        elem.src=elem.attributes["src1"].value;
    }
    iframes=elem.getElementsByTagName('iframe');
	if (iframes){
        for(i=0; i<iframes.length; ++i){
            if ( iframes[i].tagName=='IFRAME' && ( iframes[i].src==null || iframes[i].src=="" )){
                iframes[i].src=iframes[i].attributes["src1"].value;
            }
        }
    }
}

function ToggleShow(titleEle, elemId, arrowId){
	try
	{
	    var elem = document.getElementById(elemId);
	    var arrow = document.getElementById(arrowId)

	    var visible= elem.firstElementChild.style.display == "none"; //alex20121205.en
	    if ( visible && expand_single ){
	        ShowAllBlock(false, false, elemId);
	    }
	    if (elem){
	        if ( visible ){
	            FixIFrameSrc(elem);
	        }
            elem.firstElementChild.style.display=(visible?"block":"none");
            //elem.style.height = visible ?  null : "1px";
            //elem.style.overflow = visible ?  "auto" : "hidden";
            //elem.style.fontSize = visible ?  null : "1px";

	        if (visible){
	            window.scrollTo(titleEle.offsetLeft, titleEle.offsetTop);
	        }
	    }
	    if (arrow)
	        arrow.src=visible?"content://mdict.cn/res/arrow_down.png":"content://mdict.cn/res/arrow_up.png";

    }
    catch(e)
    {
    	alert(e.message);
    }
}


function ShowAllBlock(visible, onlyFirstOne, exceptElementId){
    allArrowImgs=document.getElementsByName("__mdx_arrow_img");
    for(i=0; i<allArrowImgs.length; ++i){
        allArrowImgs[i].src=visible?"content://mdict.cn/res/arrow_down.png":"content://mdict.cn/res/arrow_up.png";
        if (onlyFirstOne)
            break;
    }

    allBlockDivs=document.getElementsByName(name_content_block);
    for(i=0; i<allBlockDivs.length; ++i){
        if (allBlockDivs[i].id!=exceptElementId) {
            allBlockDivs[i].firstElementChild.style.display=(visible?"block":"none");
            //allBlockDivs[i].style.height = visible ?  null : "1px";
            if ( visible )
                FixIFrameSrc(allBlockDivs[i]);
        }
        if (onlyFirstOne)
            break;
    }
}

function SetupMdx(){
    if ( typeof(iframe_mode)=="undefined" || !iframe_mode ) {
        SetupTouchEventListener();
    } else{
        //document.body.style.background='black';
        alert("iframe mode, skip setup eventlistener for top window");
        return;
    }
    //alert("setup touch event listener done");
    var expand_all=$start_expand_all$;
    ShowAllBlock(true, !expand_all, "");

    var elements = document.getElementsByClassName(css_title);
    if ( elements ){
        if (elements.length>0)
            document.body.style.padding="0";
        css_title_active=css_title+"_active";
        var colorCount=titleColors.length;
        for(var i = 0; i < elements.length; i++) {
            var elm = elements[i];
            if (useColorPalette)
                elm.style.backgroundColor=titleColors[i%colorCount];
            elm.addEventListener("touchstart", function(event) {
                addClass(this, css_title_active);event.cancelBubble=true;}, false);
            elm.addEventListener("touchmove", function() {
                removeClass(this, css_title_active);}, false);
            elm.addEventListener("touchend", function() {
                removeClass(this, css_title_active);event.cancelBubble=true;}, false);
            elm.addEventListener("touchcancel", function() {
                removeClass(this, css_title_active);}, false);
        }

        if (useColorPalette){
            elements = document.getElementsByClassName(css_content);
            for(var i = 0; i < elements.length; i++) {
                var elm = elements[i];
                elm.style.borderColor=titleColors[i%colorCount];
            }
        }
    }
    //window.location="content://mdict.cn/notify/PageLoaded";
    //window.MdxDict.onPageComplete();
	if (shouldResizeImages)
        toggleImageResize(true);
    //window.MdxDict.onPageComplete();
}

//alex20121205.sn

function toggleImageResize(shouldResize) {
    alert("Begin resize images");
    if(screen.width >= 1024 || screen.height >=1024)
    {
        var w = top.window.innerWidth - 40;
        for ( var i = 0; i < document.images.length; i++) {
            var img = document.images[i];
            if ( shouldResize ){
                img.style.maxWidthOrig=img.style.maxWidth;
                img.style.maxHeightOrig=img.style.maxHeight;
                img.style.maxWidth="95%";
                img.style.maxHeight="80%";
            }else{
                img.style.maxWidth=img.style.maxWidth;
                img.style.maxHeight=img.style.maxHeight;
            }
        }
    }
}

function getElementTop(element){
		var actualTop = element.offsetTop;
		var current = element.offsetParent;
		while (current !== null){
			actualTop += current.offsetTop;
			current = current.offsetParent;
		}
		return actualTop;
}
//alex20121205.en
-->

</script>
<style>
    html, body{
        height: 100%;
        margin-top: 2px;
        margin-bottom: 0px;
        margin-left: 1px;
        margin-right: 1px;
    }
    body {
        padding: 2px 2px 0 2px;
    }
    ._mdx_dick_bock
    {
        width: 100%;
        height:auto;
        margin-top: 5px;
        margin-bottom: 5px;
        margin-left: 0px;
        margin-right: 0px;
        padding-top: 0px;
        padding-bottom: 0px;
        padding-right: 0px;
        padding-left: 0px;
        color: #404040;
    }

    .__mdx_css_content
    {
        display: inline-block;
        border: solid 1px #ccc;
        top: 33px;
        bottom: 0;
        left: 0;
        right:0;
        width: 100%;
        padding: 8px;
        overflow: auto;
        background: #fff;
        -moz-box-sizing: border-box;
        -webkit-box-sizing: border-box;
        box-sizing: border-box;
    }

    .__mdx_css_title
    {
        display: inline-block;
        border-style: solid solid none solid;
        border-width: 1px;
        border-color: #ccc;
        margin:0px;
        padding: 0 10px;
        line-height: 32px;
        background: #f1f1f1;
        text-align: left;
        border-radius: 5px 5px 0 0;
        cursor: pointer;
        -moz-user-select: none;
        -webkit-user-select: none;
        user-select: none;
    }
</style>
<body onload="javascript:SetupMdx();">

   
